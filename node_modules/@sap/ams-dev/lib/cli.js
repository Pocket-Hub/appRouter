"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const yargs_1 = __importDefault(require("yargs"));
const compileDcl_1 = require("./compileDcl");
const startOpa_1 = require("./startOpa");
const stopOpa_1 = require("./stopOpa");
const argv = yargs_1.default
    .command('compile-dcl', 'compiles dcl')
    .command('start-opa', 'starts opa')
    .command('stop-opa', 'stops opa')
    .help('help')
    .parseSync();
async function main() {
    if (argv._.length == 1) {
        yargs_1.default.showHelp();
    }
    else {
        const cmd = argv._[0];
        try {
            if (cmd == 'compile-dcl') {
                (0, compileDcl_1.compileDcl)(process.argv);
            }
            else if (cmd == 'start-opa') {
                await (0, startOpa_1.startOpa)(process.argv);
            }
            else if (cmd == 'stop-opa') {
                await (0, stopOpa_1.stopOpa)(process.argv);
            }
            else {
                throw (`ERROR - no script was executed - cmd: ${cmd}`);
            }
        }
        catch (err) {
            console.error(err);
        }
    }
}
main();
//# sourceMappingURL=cli.js.map