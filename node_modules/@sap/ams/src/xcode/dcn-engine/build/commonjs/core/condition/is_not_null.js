"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _comparisonoperator = _interopRequireDefault(require("./comparisonoperator.js"));
var _false = _interopRequireDefault(require("./false.js"));
var _true = _interopRequireDefault(require("./true.js"));
var _value = _interopRequireDefault(require("./value.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
class IsNotNull extends _comparisonoperator.default {
  static fromDcn(dcnArguments = {}, schema) {
    return new IsNotNull(_value.default.fromDcn(dcnArguments[0], schema));
  }
  evaluate(input = {}) {
    const v = this.values[0];
    // remark null != NULL
    if (v.constant || v.constant === null) {
      return new _true.default();
    }
    if (Object.prototype.hasOwnProperty.call(input, v.reference)) {
      if (input[v.reference] === undefined) {
        return new _false.default();
      } else {
        return new _true.default();
      }
    }
    return this;
  }
  toDcn() {
    return {
      call: ["is_not_null"],
      args: [this.values[0].toDcn()]
    };
  }
}
exports.default = IsNotNull;