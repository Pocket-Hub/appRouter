"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _value = _interopRequireDefault(require("./value.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
/**
 * @typedef {import('./condition.js').default} Condition
 */
class Function extends _value.default {
  /**
   * @type {Condition}
   */
  condition = null;

  /**
   * 
   * @param {Condition} condition 
   * @returns {Function}
   */
  static fromCondition(condition) {
    let result = new Function();
    result.condition = condition;
    return result;
  }

  /**
   * @returns {Value}
   */
  resolve(input = {}) {
    const evaluationResult = this.condition.evaluate(input);
    if (evaluationResult.isTrue()) {
      return _value.default.fromDcn(true);
    }
    if (evaluationResult.isFalse()) {
      return _value.default.fromDcn(false);
    }
    return Function.fromCondition(evaluationResult);
  }
  toDcn() {
    return this.condition.toDcn();
  }
}
exports.default = Function;