class EntityMapper {
    data;

    constructor(_dcl_cap) {
        this.data = _dcl_cap;
    }

    capToAms(capEntity) {
        const segments = capEntity.split(".");

        for (const service of this.data.resources) {
            for (const entity of service.resources) {
                if (EntityMapper.segmentsEqual(entity.name, segments)) {
                    return entity;
                }
            }
        }

        return null;
    }

    static segmentsEqual = (s1, s2) => {
        if (s1.length !== s2.length) {
            return false;
        }

        return s1.every((value, index) => value === s2[index]);
    };
}

module.exports = EntityMapper;